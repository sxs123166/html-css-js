<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 正则与字符串操作

        // 1.基本语法
        // exec()函数用于检索字符串中的正则表达式的匹配
        // 如果字符串中有匹配的值，则返回该匹配值，否则返回null
        // RegExpObject.exec(string)

        // 示例代码：
        var str = 'hello'
        var pattern = /o/
        //输出的结果["o", index:4, input: "hello", groups:undefined]
        console.log(pattern.exec(str));

        // 2.分组
        // 正则表达式中()包起来的内容表示一个分组，可以通过分组来提取自己想要的内容，示例代码如下
        var str = '<div>我是{{name}}</div>'
        var pattern = /{{([a-zA-Z+])}}/

        var patternResult = pattern.exec(str)
        console.log(patternResult);
        // 得到name 相关的分组信息
        // ["{{name}}", "name", index:7, input: "<div>我是{{name}}</div>", groups: undefined]


        // 字符串的replace函数
        // replace()函数用于在字符串中用一些字符替换另一些字符，语法格式如下：
        var result = '123456'.replace('123','abc') //得到的 result 的值为字符串 'abc456'

        // 示例代码如下：
        var str = '<div>我是{{name}}</div>'
        var pattern = /{{([a-zA-Z]+)}}/

        var patternResult = pattern.exec(str)
        str = str.replace(patternResult[0], patternResult[1])  //replace 函数返回值为替换后的新字符串
        // 输出的内容是 <div>我是name</div>

        console.log(str);

        
        // 多次replace
        var str = '<div>{{name}}今年{{age}}岁了</div>'
        var pattern = /{{\s*(a-zA-Z)\s*}}/

        var patternResult = pattern.exec(str)
        str = str.replace(patternResult[0], patternResult[1])
        console.log(str);

        patternResult = pattern.exec(str)
        str = str.replace(patternResult[0],patternResult[1])
        console.log(str);

        patternResult = pattern.exec(str)
        console.log(patternResult); //输出null


        // 使用while循环replace
        var str = '<div>{{name}}今年{{age}}岁了</div>'
        var pattern = /{{\s*([a-zA-Z])\s*}}/

        var patternResult = null
        while(patternResult = pattern.exec(str)) {
            str = str.replace(patternResult[0], patternResult[1])
        }

        console.log(str); //输出<div>name今年age岁了</div>
    </script>
</body>
</html>